---
phase: 01-foundation-identity-family-privacy
plan: "01"
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - app.json
  - tsconfig.json
  - babel.config.js
  - app/
  - src/
  - .env.example
  - .gitignore
autonomous: true
user_setup: []
must_haves:
  truths:
    - "The app starts on web without runtime errors"
    - "Supabase client can be imported by the app"
  artifacts:
    - path: package.json
      provides: "Expo app scaffold"
      contains: "expo"
    - path: src/lib/supabase.ts
      provides: "Supabase client module"
      min_lines: 10
  key_links:
    - from: app/_layout.tsx
      to: src/lib/supabase.ts
      via: "import used at runtime"
      pattern: "supabase"
---

<objective>
Create the runnable cross-platform app scaffold (Expo + Expo Router) and wire in a Supabase client module and environment placeholders.

Purpose: Establish the foundation needed to implement auth, families, and privacy flows in Phase 1.
Output: Expo project scaffold, routing skeleton, `.env.example`, and `src/lib/supabase.ts`.
</objective>

<execution_context>
@/Users/elinicholson/.config/opencode/get-shit-done/workflows/execute-plan.md
@/Users/elinicholson/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-identity-family-privacy/01-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold Expo app with Expo Router (TS)</name>
  <files>package.json, app/, tsconfig.json</files>
  <action>
Create an Expo app in the repo root using TypeScript and Expo Router. Use a simple file layout:
- `app/` for routes
- `src/` for shared modules

Constraints:
- Ensure the initial route renders on web without native-only imports.
- Keep UI minimal (no design system yet) to reduce churn in later plans.
  </action>
  <verify>npm install && npx expo --version</verify>
  <done>Repo has a runnable Expo project with TypeScript and `app/` routes</done>
</task>

<task type="auto">
  <name>Task 2: Add env placeholders and Supabase client module</name>
  <files>.env.example, src/lib/supabase.ts</files>
  <action>
Add `.env.example` with placeholders for Supabase URL + anon key (no secrets committed).

Create `src/lib/supabase.ts` exporting a configured Supabase client compatible with Expo web + native.
  </action>
  <verify>npm run typecheck || true</verify>
  <done>Supabase client module exists and can be imported by the app</done>
</task>

</tasks>

<verification>
- [ ] npm run typecheck passes (or equivalent)
- [ ] npx expo export --platform web succeeds
</verification>

<success_criteria>
- All tasks completed
- App scaffold is present and runnable
- Supabase client module exists and is ready for later plans
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-identity-family-privacy/01-01-SUMMARY.md`
</output>
